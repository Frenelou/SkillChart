(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{413:function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));e(18),e(38),e(42),e(28),e(29),e(67),e(88),e(51),e(37),e(257);var r=e(123),l=e(412),o=e(414),c="/SkillChart/data/",d=Object(r.c)("chart",{state:function(){return{skills:{},people:[],selectedSkills:[],lowerLevelChildrenCount:0,currentUserId:1,modalActive:!1}},actions:{fetchData:function(){var t=this,n=l.a.get("".concat(c,"/people.json")).then((function(t){return t.data})),e=l.a.get("".concat(c,"/skills.json")).then((function(t){return t.data})).then((function(t){return r(t)}));Promise.all([e,n]).then((function(n){t.skills=n[0],t.people=n[1]}));var r=function t(n){var e;return null===(e=n.children)||void 0===e||e.forEach((function(e){e.techType=e.techType||n.techType,t(e)})),n}},setSkills:function(t){this.skills=t},setSelectedSkills:function(t){console.log("setSelectedSkills",t),this.selectedSkills=t},toggleModal:function(){this.modalActive=!this.modalActive},setCurrentUserId:function(t){this.currentUserId=t}},getters:{getPeopleWithSkills:function(t){var n=t.people;t.skills;return t.selectedSkills.length?n.filter((function(n){return t.selectedSkills.every((function(t){return n.skills.map((function(s){return s.name})).includes(t)}))})):[]},getLowerLevelChildrenCount:function(t){return Object(o.a)(t.skills)},getUserInfo:function(t){return t.people?t.people.find((function(n){return n.id===t.currentUserId})):null}}})},414:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return l}));e(18),e(28),e(35),e(81);var r=function t(n){var e,r,l=0;return null===(e=n.children)||void 0===e||e.forEach((function(n){l+=t(n)})),l+((null===(r=n.children)||void 0===r?void 0:r.length)||0)},l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=t.replace("#","");3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var r=parseInt(e.substring(0,2),16),g=parseInt(e.substring(2,4),16),b=parseInt(e.substring(4,6),16);return n>1&&n<=100&&(n/=100),"rgba("+r+","+g+","+b+","+n+")"}},416:function(t,n,e){"use strict";e.d(n,"b",(function(){return l})),e.d(n,"a",(function(){return o})),e.d(n,"c",(function(){return c})),e.d(n,"e",(function(){return d})),e.d(n,"f",(function(){return f})),e.d(n,"d",(function(){return h}));e(37),e(29),e(18),e(58);var r=e(415),l={design:"#e76f51",programming:"#2a9d8f",javascript:"#ffb703",framework:"#2a9d8f",css:"#F16896",databases:"#264653","adobe-suite":"#e63946",developer:"lightpink",designer:"lightblue",other:"blue"},o=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#fff";return t.append("path").attr("fill",e).attr("id",(function(t){var n;return"".concat(null===(n=t.data)||void 0===n?void 0:n.label,"_path")})).attr("stroke",(function(t){var n;return l[(null===(n=t.data)||void 0===n?void 0:n.techType)||"other"]})).attr("d",r.a().innerRadius(0).outerRadius(n).startAngle(0).endAngle(359))},c=function(t,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=.9*n;return t.select("path").attr("stroke-width",20),t.append("text").append("textPath").attr("xlink:href",(function(t){return"#".concat(t.data.label,"_path")})).style("text-anchor","middle").attr("startOffset","50%").text((function(t){return t.data.name})).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","white").attr("font-size","9px").attr("dy","0.3em"),t.filter((function(t){return!t.data.rootSkill})).append("foreignObject").attr("width",2*r).attr("height",2*r).attr("x",-r).attr("y",-r).append("xhtml:div").attr("class","node").html((function(t){var n=t.data,label=n.label,r=n.icon,l=void 0===r?"default":r,o=-1*Math.ceil(180*t.x/Math.PI-90),style=e?"transform: rotate(".concat(o,"deg)"):"";return'<img src="icons/'.concat(l,'.png" alt="').concat(label,'"  style="').concat(style,'"/>')})),t},d=function(t){return t.append("rect").attr("class","node--label-bg").attr("x",(function(t){return t.x<Math.PI==!t.children?0:-100})).attr("y",-20).attr("width",100).attr("height",40).attr("fill","white"),t.append("text").attr("class","node--label").attr("dy","0.31em").attr("x",(function(t){return t.x<Math.PI==!t.children?6:-6})).attr("text-anchor",(function(t){return t.x<Math.PI==!t.children?"start":"end"})).text((function(t){return t.data.name})),t},f=function(t,n){t.on("click",(function(t,e){var r=e.data.altChildren||[],l=e.data.children;return e.data.children=r,e.data.altChildren=l,n()}))},h=function(t){var n=r.e("#tooltip");t.on("mouseover",(function(t,e){return n.style("opacity",1).style("left",t.pageX+10+"px").style("top",t.pageY-25+"px").html(e.data?e.data.name:e.first_name+" "+e.last_name)})).on("mouseout",(function(t,e){return n.style("opacity",0)}))}},418:function(t,n,e){var content=e(426);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(155).default)("19f24e1e",content,!0,{sourceMap:!1})},425:function(t,n,e){"use strict";e(418)},426:function(t,n,e){var r=e(154)(!1);r.push([t.i,"#tree-chart-container{display:flex;flex-wrap:wrap;align-items:center;width:100%;height:100%;grid-gap:2rem;gap:2rem}.skill-container.no-skill,.skill:not(.has-skill) .skill-content{filter:grayscale(1) opacity(.5)}.skill{display:block;width:100px;min-height:45px;font-size:14px;background-color:inherit;margin:auto;padding:0;background-color:#fff}.skill-container{border:2px solid var(--color);padding:2rem;border-radius:10px}.skill-container:not(.no-skill){filter:drop-shadow(1px 2px 4px rgba(185,185,185,.2))}.skill-content{width:90px;min-height:45px;margin:auto;border:2px solid;border-radius:5px;text-align:center}.skill-content.has-icon{display:flex;justify-content:center;flex-direction:column}.skill img{width:80%;margin:auto;display:block}",""]),t.exports=r},442:function(t,n,e){"use strict";e.r(n);e(51),e(37),e(18),e(28),e(67),e(88),e(58);var r=e(0),l=e(413),o=e(123),c=e(415),d=e(416),f=e(414),h={setup:function(){var t=Object(l.a)(),n=Object(o.e)(t).skills,e=Object(o.e)(t).getUserInfo;return{userInfo:Object(r.computed)((function(){return null==e?void 0:e.value})),userSkills:Object(r.computed)((function(){var t;return null==e||null===(t=e.value)||void 0===t?void 0:t.skills.map((function(t){return t.name}))})),svg:null,g:null,skillTree:null,d3:null,skills:n,colors:d.b,groups:null}},mounted:function(){var t=this,n=this.skills,e=this.colors,r=c.e("#tree-chart-container");console.log(n),n.children.forEach((function(n){n.children.forEach((function(n){var l,o,d=c.c(n),h=100*(null===(l=n.children)||void 0===l?void 0:l.length)||100,v=200*d.height||200,k=e[n.techType||"other"],m=r.append("svg").attr("class","skill-container no-skill").attr("id",n.label+"-"+(null===(o=n.children)||void 0===o?void 0:o.length)).text(n.label).attr("width",h).attr("height",v).attr("style","--color:".concat(Object(f.b)(k,.5))).append("g").attr("transform","translate("+h/2+",0)"),x=c.g();x.nodeSize([100,100]),x(d),t.drawLinks(m,d.links()),t.drawNodes(m,d.descendants())}))}))},methods:{drawNodes:function(t,n){this.getIcon;var e=120,r=this.userSkills,l=t.selectAll("g.node").data(n).enter().append("g").classed("node",!0).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}));l.append("foreignObject").attr("width",e).attr("height",e).attr("x",(function(t,i){return-60})).append("xhtml:div").html((function(t){var n=t.data,e=n.skillLevel,l=void 0===e?2:e,label=n.label,o=null==r?void 0:r.includes(label);return'\n            <div class="skill '.concat(o?"has-skill":"",'">\n              <div\n                class="skill-content ').concat(l?"has-icon":"",'"\n                style="border-color:').concat(d.b[t.data.techType||"other"],'">\n              </div>\n            </div>')}));var o=l.select(".skill-content");Object(d.c)(o,60,!1),document.querySelectorAll(".has-skill").forEach((function(t){var n;t.addEventListener("click",(function(t){t.stopPropagation(),t.target.classList.toggle("active")})),null===(n=t.closest(".skill-container"))||void 0===n||n.classList.remove("no-skill")}))},drawLinks:function(t,n){t.selectAll("line.link").data(n).enter().append("line").classed("link",!0).attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})).attr("stroke","black").attr("stroke-width",1)},zoom:function(svg,t){svg.call(c.h().scaleExtent([.1,10]).on("zoom",(function(n){t.attr("transform",n.transform)})))}}},v=(e(425),e(59)),component=Object(v.a)(h,(function(){return(0,this._self._c)("div",{attrs:{id:"tree-chart-container"}})}),[],!1,null,null,null);n.default=component.exports}}]);